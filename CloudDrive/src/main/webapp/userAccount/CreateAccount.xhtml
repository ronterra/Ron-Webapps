<?xml version="1.0" encoding="UTF-8" ?>
<!--
  - Created by Osman Balci on 2025.9.26
  - Copyright Â© 2025 Osman Balci. All rights reserved.
  -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:f="jakarta.faces.core"
      xmlns:p="http://primefaces.org/ui">

<!-- This page is constructed based on the siteTemplate -->
<ui:composition template="/template/siteTemplate.xhtml">

    <ui:define name="title">
        <!-- Set the page title -->
        <h:outputText value="Create Account"/>
    </ui:define>

    <!-- Create the content for this page below -->
    <ui:define name="editableContent">
        <div align="center">
            <h:form id="AccountCreationForm">
                <h1>Create a User Account</h1>
                <table border="0" align="center" cellpadding="5" cellspacing="0">
                    <tbody>
                    <!--
                    ********************************
                    *          FIRST NAME          *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="First Name:" for="firstName"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <!--
                            The required="true" attribute automatically places an asterisk *
                            at the end of the outputLabel to indicate that the field is required.
                            -->
                            <p:inputText id="firstName" value="#{userController.firstName}"
                                         required="true" requiredMessage="First Name is required!">
                                <f:validateLength minimum="2"/>
                            </p:inputText>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *         MIDDLE NAME          *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="Middle Name:" for="middleName"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:inputText id="middleName" value="#{userController.middleName}"
                                         required="false">
                            </p:inputText>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *           LAST NAME          *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="Last Name:" for="lastName"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:inputText id="lastName" value="#{userController.lastName}"
                                         required="true" requiredMessage="Last Name is required!">
                                <f:validateLength minimum="2"/>
                            </p:inputText>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *        ADDRESS LINE 1        *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="Address Line 1:" for="address1"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:inputText id="address1" value="#{userController.address1}" style="width:100%"
                                         required="true" requiredMessage="Address Line 1 is required!">
                                <f:validateLength minimum="2"/>
                            </p:inputText>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *        ADDRESS LINE 2        *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="Address Line 2:" for="address2"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:inputText id="address2" value="#{userController.address2}"
                                         style="width:100%" required="false">
                            </p:inputText>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *             CITY             *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="City:" for="city"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:inputText id="city" value="#{userController.city}"
                                         required="true" requiredMessage="City name is required!">
                                <f:validateLength minimum="2"/>
                            </p:inputText>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *          STATE NAME          *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="State Name:" for="stateName"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:selectOneMenu id="stateName" value="#{userController.stateName}"
                                             required="true" requiredMessage="Please Select a State name!" >
                                <f:selectItem itemLabel="Select U.S. State" itemValue="" />
                                <f:selectItems value="#{userController.listOfUSStateNames()}" />
                            </p:selectOneMenu>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *           ZIP CODE           *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel id="zipcodeEntry" value="Zip Code:" for="zipcode">
                                &nbsp;<i class="fas fa-question-circle"/>
                                <!--
                                When the user mouses over the icon, a tooltip is displayed
                                to provide context-sensitive help information to the user.
                                -->
                                <p:tooltip for="zipcodeEntry" value="Enter 5 digits or 9 digits with hyphen, e.g., 24060-1804"
                                           showEffect="clip" hideEffect="explode" position="top"/>
                            </p:outputLabel>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:inputText id="zipcode" value="#{userController.zipcode}"
                                         required="true" requiredMessage="Zip Code is required!">
                                <f:validateLength minimum="5"/>
                                <!--
                                Execute the "validate" method in the "ZipCodeValidator.java"
                                class file to validate the ZIP code entered.
                                -->
                                <f:validator validatorId="zipCodeValidator"/>
                            </p:inputText>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *       SECURITY QUESTION      *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="Security Question:" for="securityQuestion"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:selectOneMenu id="securityQuestion" value="#{userController.selectedSecurityQuestion}">
                                <!--
                                List of security questions is displayed for the user to select one.
                                The first security question is selected as the default.
                                -->
                                <f:selectItems value="#{userController.securityQuestions()}"/>
                            </p:selectOneMenu>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *        SECURITY ANSWER       *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="Security Answer:" for="securityAnswer"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:inputText id="securityAnswer" value="#{userController.answerToSecurityQuestion}"
                                         required="true" requiredMessage="Security Answer is required!">
                                <f:validateLength minimum="2"/>
                            </p:inputText>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *         EMAIL ADDRESS        *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="Email:" for="email"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:inputText id="email" value="#{userController.email}" style="width:100%"
                                         required="true" requiredMessage="Email address is required!">
                                <f:validateLength minimum="2"/>
                                <!--
                                Execute the "validate" method in the "EmailValidator.java"
                                class file to validate the email address entered.
                                -->
                                <f:validator validatorId="emailValidator"/>
                            </p:inputText>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *       ACCOUNT USERNAME       *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel id="usernameEntry" value="Username:" for="username">
                                &nbsp;<i class="fas fa-question-circle"/>
                                <!--
                                When the user mouses over the icon, a tooltip is displayed
                                to provide context-sensitive help information to the user.
                                -->
                                <p:tooltip for="usernameEntry"
                                           value="Enter 6 to 32 characters with capital letter, lowercase letter, number, or special character _ . - @"
                                           showEffect="clip" hideEffect="explode" position="top"/>
                            </p:outputLabel>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:inputText id="username" value="#{userController.username}" style="width:100%"
                                         required="true" requiredMessage="Username is required!">
                                <!--
                                Execute the "validate" method in the "UsernameValidator.java"
                                class file to validate the username entered.
                                -->
                                <f:validator validatorId="usernameValidator"/>
                            </p:inputText>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *       ACCOUNT PASSWORD       *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel id="passwordEntry" value="Password:" for="password">
                                &nbsp;<i class="fas fa-question-circle"/>
                                <!--
                                When the user mouses over the icon, a tooltip is displayed
                                to provide context-sensitive help information to the user.
                                -->
                                <p:tooltip for="passwordEntry"
                                           value="Enter 8 to 32 characters with at least 1: capital letter, lowercase letter, number, and special character above the numbers on the keyboard."
                                           showEffect="clip" hideEffect="explode" position="top"/>
                            </p:outputLabel>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <!--
                            p:password changes the characters typed to bullets to hide the password as it is typed.
                            feedback="true" displays password strength indicator.
                            -->
                            <p:password id="password" value="#{userController.password}"
                                        feedback="true" required="true" requiredMessage="Password is required!">
                                <!--
                                Execute the "validate" method in the "PasswordValidator.java"
                                class file to validate the password entered.
                                -->
                                <f:validator validatorId="passwordValidator"/>
                            </p:password>
                        </td>
                    </tr>
                    <!--
                    ********************************
                    *       CONFIRM PASSWORD       *
                    ********************************
                    -->
                    <tr>
                        <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                            <p:outputLabel value="Confirm Password:" for="confirmPassword"/>
                        </td>
                        <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                            <p:password id="confirmPassword" value="#{userController.confirmPassword}"
                                        required="true" requiredMessage="Confirm Password is required!"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <br/>
                <!--
                *********************************
                *   TWO-FACTOR AUTHENTICATION   *
                *********************************
                -->
                <p:fieldset id="twoFAgroup" legend="Two-Factor Authentication" toggleable="true" toggleSpeed="500">
                    <table border="0" align="center" cellpadding="5" cellspacing="0">
                        <tbody>
                        <!--
                        ***************************************************
                        *       Two-Factor Authentication via Email       *
                        ***************************************************
                        -->
                        <tr>
                            <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                                <p:outputLabel value="Two-Factor Authentication via Email:" for="twoFAEmail"/>
                            </td>
                            <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                                <p:toggleSwitch id="twoFAEmail" value="#{userController.twoFAonViaEmail}">
                                    <p:ajax update="twoFAgroup"/>
                                </p:toggleSwitch>
                            </td>
                        </tr>
                        <!--
                        *************************************************
                        *       Two-Factor Authentication via SMS       *
                        *************************************************
                        -->
                        <tr>
                            <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                                <p:outputLabel value="Two-Factor Authentication via SMS:" for="twoFAsms"/>
                            </td>
                            <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                                <p:toggleSwitch id="twoFAsms" value="#{userController.twoFAonViaSMS}">
                                    <p:ajax update="twoFAgroup"/>
                                </p:toggleSwitch>
                            </td>
                        </tr>
                        <!--
                        *********************************
                        *       Cell Phone Number       *
                        *********************************
                        -->
                        <tr>
                            <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                                <p:outputLabel value="Cell Phone Number:" for="cellPhoneNumber"/>
                            </td>
                            <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                                <!--
                                PrimeFaces inputMask enforces the phone number format defined by mask="(999) 999-9999"
                                and prevents a non-numeric character to be entered by the user.
                                -->
                                <p:inputMask id="cellPhoneNumber" mask="(999) 999-9999"
                                             value="#{userController.cellPhoneNumber}"/>
                            </td>
                        </tr>
                        <!--
                        **********************************
                        *       Cell Phone Carrier       *
                        **********************************
                        -->
                        <tr>
                            <td align="right" valign="middle" nowrap="nowrap" bgcolor="papayawhip">
                                <p:outputLabel value="Cell Phone Carrier:" for="carrier"/>
                            </td>
                            <td align="left" valign="middle" nowrap="nowrap" bgcolor="oldlace">
                                <!--
                                All major U.S. wireless carriers offer both Short Message Service (SMS) gateway
                                and Multimedia Messaging Service (MMS) gateway.

                                Carrier	            SMS Gateway Domain	                MMS Gateway Domain
                                AT&T	            number@txt.att.net	                number@mms.att.net
                                Boost Mobile	    number@sms.myboostmobile.com	    number@myboostmobile.com
                                Cricket Wireless	number@mms.cricketwireless.net	    number@mms.cricketwireless.net
                                Google Project Fi	number@msg.fi.google.com	        number@msg.fi.google.com
                                Republic Wireless	number@text.republicwireless.com	None
                                Sprint	            number@messaging.sprintpcs.com	    number@pm.sprint.com
                                Straight Talk	    number@vtext.com	                number@mypixmessages.com
                                T-Mobile	        number@tmomail.net	                number@tmomail.net
                                Ting	            number@message.ting.com	None
                                Tracfone	        Depends on underlying carrier	    number@mmst5.tracfone.com
                                U.S. Cellular	    number@email.uscc.net	            number@mms.uscc.net
                                Verizon	            number@vtext.com	                number@vzwpix.com
                                Virgin Mobile	    number@vmobl.com	                number@vmpix.com
                                Xfinity Mobile      number@vtext.com                    number@mypixmessages.com

                                SMS message is restricted to be no more than 160 characters.
                                MMS has no restriction. Therefore, we will use MMS.

                                Specify the email address to send the email message containing the text message as

                                    10-digit Cell Phone Number@CellPhoneCarrier's MMS gateway domain

                                The designated cell phone number will be charged for the text messaging by its carrier.

                                When the email message is sent to the cell phone number @ the MMS gateway domain,
                                the message is automatically sent to the cell phone as an MMS text message by the
                                domain and the carrier charges the cell phone number for the text messaging.
                                -->

                                <p:selectOneMenu id="carrier" value="#{userController.cellPhoneCarrier}">

                                    <f:selectItem itemLabel="Select a Carrier"  itemValue="" noSelectionOption="true"/>
                                    <f:selectItem itemLabel="AT&amp;T Mobility" itemValue="mms.att.net" />
                                    <f:selectItem itemLabel="Boost Mobile"      itemValue="myboostmobile.com" />
                                    <f:selectItem itemLabel="Consumer Cellular" itemValue="mailmymobile.com" />
                                    <f:selectItem itemLabel="Cricket Wireless"  itemValue="mms.cricketwireless.net" />
                                    <f:selectItem itemLabel="Google Project Fi" itemValue="msg.fi.google.com" />
                                    <f:selectItem itemLabel="Sprint"            itemValue="pm.sprint.com" />
                                    <f:selectItem itemLabel="Straight Talk"     itemValue="mypixmessages.com" />
                                    <f:selectItem itemLabel="T-Mobile"          itemValue="tmomail.net" />
                                    <f:selectItem itemLabel="Tracfone"          itemValue="mmst5.tracfone.com" />
                                    <f:selectItem itemLabel="U.S. Cellular"     itemValue="mms.uscc.net" />
                                    <f:selectItem itemLabel="Verizon"           itemValue="vzwpix.com" />
                                    <f:selectItem itemLabel="Virgin Mobile"     itemValue="vmpix.com" />
                                    <f:selectItem itemLabel="Xfinity Mobile"    itemValue="mypixmessages.com" />

                                </p:selectOneMenu>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </p:fieldset>
                <br/><br/>
                <!--
                ================================
                |        SUBMIT Button         |
                ================================
                -->
                <p:commandButton id="createAccount" value="Submit" icon="fas fa-arrow-up" styleClass="rounded-button"
                                 ajax="false" action="#{userController.createAccount()}"/>
                &nbsp;&nbsp;
                <!--
                ================================
                |        CANCEL Button         |
                ================================
                -->
                <p:button outcome="/index" value="Cancel" icon="fas fa-ban" styleClass="ui-button-outlined"/>
            </h:form>
        </div>
    </ui:define>
</ui:composition>
</html>
